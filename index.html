<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CGPA Calculator</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; }
  table { border-collapse: collapse; width: 100%; margin-top: 20px; }
  th, td { border: 1px solid #ccc; padding: 10px; text-align: center; }
  input { padding: 5px; margin: 5px 0; }
  button { padding: 5px 10px; margin: 5px; }
</style>
</head>
<body>

<h1>CGPA Calculator</h1>

<div>
  <input type="text" id="courseName" placeholder="Course Name">
  <input type="number" id="courseCredit" placeholder="Credit" min="0">
  <input type="number" id="courseCGPA" placeholder="CGPA (max 4)" min="0" max="4" step="0.01">
  <button onclick="addCourse()">Add Course</button>
</div>

<table id="courseTable">
  <thead>
    <tr>
      <th>Course</th>
      <th>Credit</th>
      <th>CGPA</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<h3>Total Credits: <span id="totalCredits">0</span></h3>
<h3>CGPA: <span id="cgpa">0.00</span></h3>

<script>
let courses = [];

function updateTable() {
  const tbody = document.querySelector("#courseTable tbody");
  tbody.innerHTML = "";
  let totalCredits = 0, totalPoints = 0;
  
  courses.forEach((course, index) => {
    totalCredits += course.credit;
    totalPoints += course.credit * course.cgpa;

    const row = document.createElement("tr");
    row.innerHTML = `
      <td>${course.name}</td>
      <td>${course.credit}</td>
      <td>${course.cgpa.toFixed(2)}</td>
      <td>
        <button onclick="editCourse(${index})">Edit</button>
        <button onclick="removeCourse(${index})">Remove</button>
      </td>
    `;
    tbody.appendChild(row);
  });

  document.getElementById("totalCredits").textContent = totalCredits;
  const cgpa = totalCredits ? (totalPoints / totalCredits).toFixed(2) : 0;
  document.getElementById("cgpa").textContent = cgpa;
}

function addCourse() {
  const name = document.getElementById("courseName").value.trim();
  const credit = parseFloat(document.getElementById("courseCredit").value);
  const cgpa = parseFloat(document.getElementById("courseCGPA").value);

  if (!name || isNaN(credit) || isNaN(cgpa) || cgpa > 4) {
    alert("Please enter valid course details (CGPA max 4).");
    return;
  }

  courses.push({ name, credit, cgpa });
  document.getElementById("courseName").value = "";
  document.getElementById("courseCredit").value = "";
  document.getElementById("courseCGPA").value = "";
  updateTable();
}

function removeCourse(index) {
  courses.splice(index, 1);
  updateTable();
}

function editCourse(index) {
  const course = courses[index];
  const newName = prompt("Edit Course Name:", course.name);
  const newCredit = parseFloat(prompt("Edit Credit:", course.credit));
  const newCGPA = parseFloat(prompt("Edit CGPA (max 4):", course.cgpa));

  if (newName && !isNaN(newCredit) && !isNaN(newCGPA) && newCGPA <= 4) {
    courses[index] = { name: newName, credit: newCredit, cgpa: newCGPA };
    updateTable();
  } else {
    alert("Invalid input!");
  }
}
</script>

</body>
</html>
